# Go P2P Communication Tool

一个基于Go语言的P2P通信工具，支持NAT穿透功能。

## 项目架构

项目采用了以下设计模式和架构原则：

### 设计模式

- **接口与抽象工厂模式**：通过接口定义组件行为，使用工厂创建具体实现，实现组件解耦
- **观察者模式**：用于处理消息通知和事件分发
- **策略模式**：处理不同类型的消息和命令
- **单例模式**：确保全局组件只有一个实例
- **命令模式**：封装客户端命令操作

### 项目结构

```
├── cmd/                    # 命令行入口
│   ├── client/            # 客户端命令
│   └── server/            # 服务器命令
├── internal/              # 内部包
│   ├── config/            # 配置管理
│   ├── log/               # 日志工具
│   ├── message/           # 消息定义
│   ├── network/           # 网络通信
│   │   ├── connection/    # 连接管理
│   │   ├── protocol/      # 协议实现
│   │   └── transport/     # 传输层
│   ├── peer/              # 对等节点管理
│   └── utils/             # 工具函数
├── pkg/                   # 可导出的包
│   ├── discovery/         # 节点发现
│   └── nat/               # NAT穿透
└── ui/                    # 用户界面
    └── terminal/          # 终端界面
```

## 核心组件

### 消息系统

使用接口定义消息处理器，支持不同类型消息的处理策略。

### 连接管理

抽象连接接口，支持UDP和TCP协议，实现无缝切换。

### 节点发现

负责发现和维护可连接的对等节点列表。

### NAT穿透

提供NAT穿透功能，使不同网络环境的节点能够直接通信。

## 使用方法

### 服务器模式

```bash
go-p2p server -p 9000
```

### 客户端模式

```bash
go-p2p client -p 9001 -s 127.0.0.1:9000
```

## 许可证

本项目采用MIT许可证。详见LICENSE文件。
